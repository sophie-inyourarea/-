# Web界面使用指南

## 🎯 按照需求文档设计的5步工作流程

Web界面完全按照需求文档设计，严格遵循5个步骤的工作流程：

### 📋 界面特点

- **步骤化设计**：严格按照需求文档的5个步骤设计
- **进度条显示**：实时显示当前进度
- **步骤状态**：当前步骤高亮，已完成步骤标记为蓝色
- **交互友好**：每个步骤都有清晰的说明和操作指引

## 🚀 使用步骤

### Step 1: 风格化初稿生成
**目标**：根据用户输入的混乱观点和参考文案，生成一篇风格化的初稿

1. **输入原始文案**：在"原始文案"文本框中输入您要优化的混乱文案
2. **提供参考文案1（必填）**：输入用于定义风格的参考文案
3. **提供参考文案2（可选）**：输入第二个参考文案
4. **点击"生成风格化初稿"**：AI将根据参考文案的风格生成初稿

**完成后**：自动进入Step 2

### Step 2: 交互式应用写作偏好
**目标**：让用户选择适用的历史写作偏好，并生成修改后的稿件

1. **查看可用偏好**：系统会显示所有历史学习到的写作偏好
2. **选择偏好**：勾选您想要应用的偏好（可多选）
3. **点击"应用选中的偏好"**：AI将根据选中的偏好修改文案

**完成后**：自动进入Step 3

### Step 3: 交互式应用限制性规定
**目标**：让用户选择适用的历史限制规则，生成AI的首次终稿

1. **查看可用规则**：系统会显示所有历史学习到的限制规则
2. **选择规则**：勾选您想要应用的规则（可多选）
3. **点击"应用选中的规则"**：AI将根据选中的规则修改文案

**完成后**：自动进入Step 4

### Step 4: 多轮对话与编辑
**目标**：允许用户在AI终稿基础上进行多轮修改，直到满意

1. **查看当前文案**：显示AI生成的终稿
2. **选择编辑方式**：
   - **满意 (y)**：如果对当前文案满意，点击此按钮
   - **自己修改 (e)**：手动编辑文案
   - **让AI根据指令修改 (i)**：提供指令让AI修改

3. **多轮编辑**：
   - 手动编辑：在文本框中直接修改，点击"确认修改"
   - AI指令编辑：输入修改指令，点击"确认AI修改"

**完成后**：进入Step 5

### Step 5: 录入与学习（核心闭环）
**目标**：从本次会话中学习新的偏好和规则，更新本地数据库

1. **查看对比**：
   - AI生成的终稿
   - 用户最终版本
2. **点击"开始学习"**：系统会自动学习您的修改偏好和规则
3. **查看学习结果**：显示新增的偏好和规则数量

**完成后**：学习到的偏好和规则会自动添加到数据库中

## 🎨 界面设计特点

### 视觉设计
- **简洁明了**：采用卡片式设计，每个步骤独立显示
- **状态指示**：当前步骤绿色高亮，已完成步骤蓝色标记
- **进度条**：顶部进度条实时显示完成进度

### 交互设计
- **步骤化引导**：严格按照需求文档的5个步骤设计
- **智能禁用**：未完成前置步骤时，后续按钮自动禁用
- **实时反馈**：每个操作都有即时的成功/失败反馈

### 功能设计
- **多选支持**：偏好和规则支持多选
- **实时预览**：文案修改后立即显示结果
- **学习闭环**：自动学习用户偏好，持续优化

## 🔧 技术实现

### 前端技术
- **纯HTML/CSS/JavaScript**：无需额外框架
- **响应式设计**：支持各种屏幕尺寸
- **现代UI**：采用Material Design风格

### 后端技术
- **Flask框架**：轻量级Web框架
- **RESTful API**：标准化的API接口
- **火山方舟集成**：使用doubao-seed-1.6-250615模型

### 数据存储
- **本地JSON**：完全本地化存储
- **原子化设计**：偏好和规则独立存储
- **去重机制**：智能避免重复学习

## 📱 访问方式

1. **启动服务**：
   ```bash
   python web_interface.py
   ```

2. **打开浏览器**：
   访问 http://localhost:8080

3. **开始使用**：
   按照5个步骤的流程进行操作

## 🎯 与需求文档的对应关系

| 需求文档步骤 | Web界面实现 | 说明 |
|-------------|------------|------|
| Step 1: 风格化初稿生成 | Step 1 卡片 | 完全对应 |
| Step 2: 交互式应用写作偏好 | Step 2 卡片 | 完全对应 |
| Step 3: 交互式应用限制性规定 | Step 3 卡片 | 完全对应 |
| Step 4: 多轮对话与编辑 | Step 4 卡片 | 完全对应 |
| Step 5: 录入与学习 | Step 5 卡片 | 完全对应 |

## ✨ 使用建议

1. **首次使用**：建议先运行演示脚本了解功能
2. **参考文案**：提供高质量的参考文案能获得更好的效果
3. **多轮编辑**：充分利用多轮编辑功能，让AI更好地学习您的风格
4. **学习闭环**：每次使用后都会学习，使用越多效果越好

现在您可以在浏览器中访问 http://localhost:8080 开始使用完全按照需求文档设计的Web界面！
